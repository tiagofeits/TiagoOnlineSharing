!function () { "use strict"; angular.module("app").controller("userController", ["$scope", "$filter", "dataService", function (t, e, r) { function n() { r.getUsers().then(function (r) { t.$watch("searchText", function (n) { t.users = e("filter")(r, n) }) }) } t.users = [], t.currentPage = 1, t.itemsPerPage = 5, n(), t.deleteUser = function (t) { toastr.warning("<div style='clear:both;margin-top:10px;'><div style='margin-left:15%;margin-right:5%;float:left;'><button type='button' id='confirmDelete' class='btn btn-warning'>Yes</button></div><div style='margin-left:5%;float:left;'><button type='button' class='btn btn-warning'>No</button></div ></div >", "Are you sure you want to delete this User?", { positionClass: "toast-top-right", closeButton: !1, allowHtml: !0, onShown: function (e) { $("#confirmDelete").click(function () { r.deleteUser(t).then(function () { toastr.success("User deleted successfully"), n() }, function () { toastr.error("Error while deleting user with Id: " + t) }) }) } }) }, t.sortBy = function (e) { t.sortColumn = e, t.reverse = !t.reverse } }]).controller("userAddController", ["$scope", "$location", "dataService", function (t, e, r) { t.createUser = function (t) { r.addUser(t).then(function () { toastr.success("User created successfully"), e.path("/") }, function () { toastr.error("Error while creating user") }) } }]).controller("userEditController", ["$scope", "$routeParams", "$location", "dataService", function (t, e, r, n) { t.user = {}, t.states = { showUpdateButton: !1 }, n.getUserById(e.id).then(function (e) { t.user = e, t.states.showUpdateButton = !0 }, function () { toastr.error("Error while fetching user with Id: " + e.id) }), t.updateUser = function (t) { n.editUser(t).then(function () { toastr.success("User updated successfully"), r.path("/") }, function () { toastr.error("Error while updating user") }) } }]) }();